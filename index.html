<html>
<head>
  <title>Data viz map!</title>
  <link rel="stylesheet" href="css/leaflet.css"/>
  <script src="lib/leaflet.js"></script>
  <!--<script src="lib/leaflet.ajax.min.js"></script>-->

  <!--<script src="lib/geotiff.js/dist/geotiff.bundle.js"></script>-->
  <script src="lib/geotiff.js"></script>
  <script src="lib/plotty.js"></script>
  <script src="lib/leaflet-geotiff.js"></script>
</head>
<body>

  <div >
      <div style="width:30%;float:left;">
          <h1>Leaflet geoTIFF demo</h1>
          <h2>Example of loading a geotiff file</h2>
      </div>
      <div id="map" style="width:70%; height:100%;float:left;"></div>
  </div>

  <script src="sample.js" type="text/javascript"></script>
  <script>

    // initialize the map
    var map = L.map('map').setView([-33, 147], 6);

    // load a tile layer
    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
        maxZoom: 20,
        minZoom: 3,
        id: 'mapbox.streets'
      }).addTo(map);

    var layer = L.leafletGeotiff(url = 'tif/wind_speed.tif',
        options={band: 0,
            displayMin: 0,
            displayMax: 30,
            name: 'Wind speed',
            colorScale: 'rainbow',
            clampLow: false,
            clampHigh: true,
            //vector:true,
            arrowSize: 20,
            }).addTo(map);

    var windDirection = L.leafletGeotiff(
            url='tif/wind_direction.tif',
            options={band: 0,
                displayMin: 0,
                displayMax: 360,
                name: 'Wind direction',
                vector:true,
                arrowSize: 20,
            }
        ).addTo(map);

    var test = L.leafletGeotiff(
            url='tif/output.tif',
            options={
                band: 0,
                displayMin: 0,
                displayMax: 30,
                name: 'test',
                colorScale: 'rainbow',
                clampLow: false,
                clampHigh: true,
                //vector:true,
                arrowSize: 20,
            }
        ).addTo(map);

  </script>
</body>
</html>
